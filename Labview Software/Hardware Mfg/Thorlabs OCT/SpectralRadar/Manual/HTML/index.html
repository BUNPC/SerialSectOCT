<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>SpectralRadar SDK: Spectral Radar SDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="doxyfile_header.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SpectralRadar SDK
   &#160;<span id="projectnumber">4.4</span>
   </div>
   <div id="projectbrief">C Reference for OCT Development</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Spectral Radar SDK </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="license"></a>
SpectralRadar SDK License</h1>
<p>By using the Thorlabs SpectralRadar SDK you agree to the terms and conditions detailed in the license agreement provided here: <a href="../THORLABS SpectralRadar SDK License Agreement.pdf">THORLABS SpectralRadar SDK License Agreement</a> (PDF reader required). If this link does not work, you will also find this license agreement in Start Menu -&gt; All Programs -&gt; Thorlabs -&gt; SpectralRadar-SDK.</p>
<h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>This document gives an introduction into using the ANSI C Spectral Radar SDK and demonstrates the use of the most important functions.</p>
<h2><a class="anchor" id="overview"></a>
Overview</h2>
<p>The ANSI C Spectral Radar SDK follows an object-oriented approach. All objects are represented by pointers where appropriate typedefs are provided for convenience. The defined types are called Handles and are used as Return values when created and are passed as value when used. All functionality has been created with full LabVIEW compatibility in mind and it should be possible to use the SDK with most other programming languages as well. The most important handles are given in the following sections.</p>
<h2><a class="anchor" id="sec_datahandles"></a>
Data Handle (DataHandle, ColoredDataHandle, ComplexDataHandle, RawDataHandle)</h2>
<p>Data acquired and used by the SDK is provided via data objects. A data object can contain</p>
<ul>
<li>floating point data (via <a class="el" href="group___data.html#ga3ef0b4c696c32ef4d1d49fca7b1072da" title="Handle to an object holding 1-, 2- or 3-dimensional floating point data. ">DataHandle</a>)</li>
<li>complex floating point data (via <a class="el" href="group___data.html#ga36f611666e3e1320f3fa73e2e290f509" title="Handle to an object holding complex 1-, 2- or 3-dimensional complex floating point data...">ComplexDataHandle</a>)</li>
<li>ARGB32 colored data (via <a class="el" href="group___data.html#gace61e37cd2114f32853294461dce523e" title="Handle to an object holding 1-, 2- or 3-dimensional colored data. ">ColoredDataHandle</a>)</li>
<li>unprocessed RAW data (via <a class="el" href="group___data.html#ga485ecd235dcc8605e6803a8fa5bc4426" title="Handle to an object holding the unprocessed raw data. ">RawDataHandle</a>) The data objects store all information belonging to them, such as pixel data, spacing between pixels, comments attached to their data, etc. Data objects are automatically resized if necessary and can contain 1-, 2- or 3-dimensional data. The dimensionality can be read by <a class="el" href="group___data.html#ga66d33f185750ded930f535da3dcac60a" title="Returns the selected integer property of the specified data. ">getDataPropertyInt()</a>, etc. Direct access to their memory is possible via <a class="el" href="group___data.html#ga8886cab9938720bd1e117813b3bd2617" title="Returns a pointer to the content of the specified data. ">getDataPtr()</a>, etc. Data properties can be read out via <a class="el" href="group___data.html#ga66d33f185750ded930f535da3dcac60a" title="Returns the selected integer property of the specified data. ">getDataPropertyInt()</a>, <a class="el" href="group___data.html#ga10cea882ee38c9eeebe85d528e956b6c" title="Returns the selected floating point property of the specified data. ">getDataPropertyFloat()</a>, etc. These include sizes along their first, second and third axis, physical spacing between pixels, their total range, etc.</li>
</ul>
<h2><a class="anchor" id="sec_OCTDeviceHandle"></a>
OCTDeviceHandle</h2>
<p>A handle specifying the OCT device that is used. In most cases the <a class="el" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a> is obtained using the <a class="el" href="group___hardware.html#gaaf321357880c083c89a8879a2d9c26a2" title="Initializes the installed device. ">initDevice()</a> function and needs to be closed after using by <a class="el" href="group___hardware.html#gaac72a95863e33bc6759a1310625ade44" title="Closes the device opened previously with initDevice. ">closeDevice()</a>. The complete device will be initialized, the SLD will be switched on and all start-up dependent calibration will be performed. All hardware and hardware dependend actions require the <a class="el" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a> to be passed. These include for example</p>
<ul>
<li>starting and stopping a measurement (<a class="el" href="group___acquisition.html#ga1b86270fc67eb8341b9f61f4281d105e" title="starts a continuous measurement BScans. ">startMeasurement()</a> and <a class="el" href="group___acquisition.html#ga4b1a7ed17091fa0f3aeb56128f2b3d91" title="stops the current measurement. ">stopMeasurement()</a>)</li>
<li>getting properties of the device (<a class="el" href="group___hardware.html#ga910536fbb2498474d949cd471f6e63f0" title="Returns properties of the device belonging to the specfied OCTDeviceHandle. ">getDevicePropertyInt()</a> and <a class="el" href="group___hardware.html#ga6cf7be51ac71457d05e051581699edef" title="Returns properties of the device belonging to the specfied OCTDeviceHandle. ">getDevicePropertyFloat()</a>)</li>
</ul>
<h2><a class="anchor" id="sec_processinghandle"></a>
ProcessingHandle</h2>
<p>The numerics and processing routines required in order to create A-scans, B-scans and volumes out of directly measured spectra can be accessed via the <a class="el" href="group___processing.html#gaf002db5a3f02443d6309fc470f36bc33" title="Handle for a processing routine. ">ProcessingHandle</a>. When the <a class="el" href="group___processing.html#gaf002db5a3f02443d6309fc470f36bc33" title="Handle for a processing routine. ">ProcessingHandle</a> is created, all required temporary memory and routines are initialized and prepared and several threads are started. In most cases the ideal way to create a processing handle is to use <a class="el" href="group___processing.html#ga5b879108e96af09036b35920e6971729" title="Creates suitable standard processing routines for the specified device (OCTDeviceHandle). ">createProcessingForDevice()</a> which creates optimized processing algorithms for the <a class="el" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a> specified. If no device is available or the processing routines are to be tweaked manually createProcessing() must be used. When all required processing is done, <a class="el" href="group___processing.html#ga7abc7d6cd686ba474d941aaea4f8d751" title="Closes the processing and frees all temporary memory that was associated with it. Processing threads ...">closeProcessing</a> must be used to stop all processing threads and free all temporary memory. All functions whose output is dependent on the processing routines used have a <a class="el" href="group___processing.html#gaf002db5a3f02443d6309fc470f36bc33" title="Handle for a processing routine. ">ProcessingHandle</a> parameter. These include for example</p>
<ul>
<li>The <a class="el" href="group___processing.html#gaf8349ee0b6b09646ac17db29a3d5833d" title="Sets the specified integer value processing parameter. ">setProcessingParameterInt()</a> and <a class="el" href="group___processing.html#ga65d12c1d13e7949879d7077b46d36332" title="Sets the specified processing flag. ">setProcessingFlag()</a> functions for setting parameters that are used for processing</li>
<li>The <a class="el" href="group___processing.html#ga4a2db07399c15b2398f61e43865b623c" title="Execute the processing. ">executeProcessing()</a> function for triggering the processing of raw data</li>
</ul>
<h2><a class="anchor" id="sec_probehandle"></a>
ProbeHandle</h2>
<p>The probe is the hardware used for scanning the sample, usually with help of galvanometric scanners. The object referenced by <a class="el" href="group___probe.html#gaae8d2a77e8c1d6207036033e444fc774" title="Handle for controlling the galvo scanner. ">ProbeHandle</a> is responsible for creating scan patterns and holds all information and settings of the probe attached to the device. It needs to be calibrated to map suitable output voltage (for analog galvo drivers) or digital values (for digital galvo drivers) to scanning angles, inches or milimeters. In most cases this calibration data is provided by *.ini files and the probe is initialized by <a class="el" href="group___probe.html#gad4eaa885f9b11b8e02a734ef5a44a7a3" title="Initializes a probe specified by ProbeFile. ">initProbe()</a> where the probe configuration file name needs be specified as a string parameter. Probes calibrated at Thorlabs will usually come with a factory-made probe configuration file which follows the nomenclature Probe + Objective Name.ini, e.g. "ProbeLSM03.ini"</p>
<p>If the probe is to be hardcoded into the software one can also provide an empty string as parameter and provide the configuration manually using the <a class="el" href="group___probe.html#ga25317ab244ac742b917b235f1d317497" title="Sets. ">setProbeParameterInt()</a> and <a class="el" href="group___probe.html#gaffa8c289ef4c049ddb39c89a38203a20" title="Sets floating point parameters of the specified probe. ">setProbeParameterFloat()</a> functions. When the Probe object is no longer needed, <a class="el" href="group___probe.html#gaa691ff00c709ffe56396e7255d552fd3" title="Closes the probe and frees all memory associated with it. ">closeProbe()</a> must be called to free temporary memory. All actions that depend on the probe configuration require a <a class="el" href="group___probe.html#gaae8d2a77e8c1d6207036033e444fc774" title="Handle for controlling the galvo scanner. ">ProbeHandle</a> to be specified, such as:</p>
<ul>
<li>move galvo scanner to a specific position (<a class="el" href="group___hardware.html#gaa03231e5a29921c48274b8b570a94053" title="manually moves the scanner to a given position ">moveScanner()</a>).</li>
<li>create a scan pattern (<a class="el" href="group___scan_pattern.html#gae86f2681e88660858d54a14b370a05c3" title="Creates a simple B-scan pattern that moves the galvo over a specified range. ">createBScanPattern()</a>), see also <a class="el" href="index.html#sec_scanpatternhandle">ScanPatternHandle</a>.</li>
<li>set calibration parameters for a specific probe (<a class="el" href="group___probe.html#gaffa8c289ef4c049ddb39c89a38203a20" title="Sets floating point parameters of the specified probe. ">setProbeParameterFloat()</a> and <a class="el" href="group___probe.html#ga25317ab244ac742b917b235f1d317497" title="Sets. ">setProbeParameterInt()</a>)</li>
</ul>
<h2><a class="anchor" id="sec_scanpatternhandle"></a>
ScanPatternHandle</h2>
<p>A scan pattern is used to specifiy the points on the probe to scan during data acquisition, and its information is accessible via the <a class="el" href="group___scan_pattern.html#ga5895a3257f7a22480e2aa27f261a6e26" title="Handle for controlling the scan pattern. ">ScanPatternHandle</a>. A dedicated function can be used to create a specific scan pattern, such as <a class="el" href="group___scan_pattern.html#gae86f2681e88660858d54a14b370a05c3" title="Creates a simple B-scan pattern that moves the galvo over a specified range. ">createBScanPattern()</a> for a simple B-scan or <a class="el" href="group___scan_pattern.html#gad8efc309f33f6ccb4e53d4412d0f1c69" title="Creates a simple volume pattern. ">createVolumePattern()</a> for a simple volume scan. When the scan pattern is no longer needed its ressources can be freed using <a class="el" href="group___scan_pattern.html#gada7480a79247fd33b710ce39e2d8b291" title="Clears the specified scan pattern (ScanPatternHandle). ">clearScanPattern()</a>. The <a class="el" href="group___scan_pattern.html#ga5895a3257f7a22480e2aa27f261a6e26" title="Handle for controlling the scan pattern. ">ScanPatternHandle</a> needs to be specified to all functions that need information on the resulting scan. For example:</p>
<ul>
<li>creating a pattern (<a class="el" href="group___scan_pattern.html#gae86f2681e88660858d54a14b370a05c3" title="Creates a simple B-scan pattern that moves the galvo over a specified range. ">createBScanPattern()</a>, <a class="el" href="group___scan_pattern.html#gad8efc309f33f6ccb4e53d4412d0f1c69" title="Creates a simple volume pattern. ">createVolumePattern()</a>, etc.)</li>
<li>starting a measurement (<a class="el" href="group___acquisition.html#ga1b86270fc67eb8341b9f61f4281d105e" title="starts a continuous measurement BScans. ">startMeasurement()</a>)</li>
</ul>
<h2><a class="anchor" id="sec_otherhandles"></a>
Other Handles</h2>
<p>Other Handles that are used in the Spectral Radar SDK are</p>
<ul>
<li><a class="el" href="group___doppler.html#gaeafd240f85f9ad8ae6ef4a50594f4bd4" title="Handle used for Doppler processing. ">DopplerProcessingHandle</a>: Handle to Doppler processing routines that can be used to transform complex data to Doppler phase and amplitude signals.</li>
<li><a class="el" href="group___settings.html#gadf32906c8209d9d7d50ecb6bbd0b0f6a" title="Handle for saving settings on disk. ">SettingsHandle</a>: Handle to an INI file that can be read and written to without explicitly taking care of parsing the file.</li>
<li><a class="el" href="group___coloring.html#ga395cdcd2c90e9ffabd298d0d11511309" title="Handle for routines that color avaible scans for displaying. ">Coloring32BitHandle</a>: Handle to processing routines that can map floating point data to 32 bit color data.</li>
</ul>
<h1><a class="anchor" id="first_steps"></a>
First Steps</h1>
<p>The following section describes first steps that are needed to acquire data with the Spectral Radar SDK. </p>
<h2><a class="anchor" id="init"></a>
Initializing The Device</h2>
<p>The easiest way to initialize the device is to use the <a class="el" href="group___hardware.html#gaaf321357880c083c89a8879a2d9c26a2" title="Initializes the installed device. ">initDevice()</a> function. It returns an approprate <a class="el" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a> that can be used to identifiy the device: </p>
<div class="fragment"><div class="line"><a class="code" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a> Dev = <a class="code" href="group___hardware.html#gaaf321357880c083c89a8879a2d9c26a2" title="Initializes the installed device. ">initDevice</a>();</div>
<div class="line"><span class="comment">// Acquire data, processing, direct hardware access...</span></div>
<div class="line"><a class="code" href="group___hardware.html#gaac72a95863e33bc6759a1310625ade44" title="Closes the device opened previously with initDevice. ">closeDevice</a>(Dev);</div>
</div><!-- fragment --><h2><a class="anchor" id="processing"></a>
Creating Processing Routines</h2>
<p>In most cases raw data acquired by the OCT device needs to be transformed usings a Fast Fourier transform and other pre- and postprocessing algorithms. To get a <a class="el" href="group___processing.html#gaf002db5a3f02443d6309fc470f36bc33" title="Handle for a processing routine. ">ProcessingHandle</a> on these algorithms the most convenient way is to use the <a class="el" href="group___processing.html#ga5b879108e96af09036b35920e6971729" title="Creates suitable standard processing routines for the specified device (OCTDeviceHandle). ">createProcessingForDevice()</a> functionality which requires a valid <a class="el" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a>: </p>
<div class="fragment"><div class="line"><span class="comment">// ...</span></div>
<div class="line"><a class="code" href="group___processing.html#gaf002db5a3f02443d6309fc470f36bc33" title="Handle for a processing routine. ">ProcessingHandle</a> Proc = <a class="code" href="group___processing.html#ga5b879108e96af09036b35920e6971729" title="Creates suitable standard processing routines for the specified device (OCTDeviceHandle). ">createProcessingForDevice</a>(Dev);</div>
<div class="line"><span class="comment">// acquire data and perform processing</span></div>
<div class="line"><a class="code" href="group___processing.html#ga7abc7d6cd686ba474d941aaea4f8d751" title="Closes the processing and frees all temporary memory that was associated with it. Processing threads ...">closeProcessing</a>(Proc);</div>
<div class="line"><span class="comment">// ...</span></div>
</div><!-- fragment --><h2><a class="anchor" id="scanpattern"></a>
Creating A Scan Pattern</h2>
<p>In order to scan a sample and acquire B-scan OCT data one needs to specifiy a scan pattern that describes at which point to acquire data. To get the data of a simple B-Scan on can simply use <a class="el" href="group___scan_pattern.html#gae86f2681e88660858d54a14b370a05c3" title="Creates a simple B-scan pattern that moves the galvo over a specified range. ">createBScanPattern()</a>: </p>
<div class="fragment"><div class="line"><span class="comment">// ...</span></div>
<div class="line"><a class="code" href="group___probe.html#gaae8d2a77e8c1d6207036033e444fc774" title="Handle for controlling the galvo scanner. ">ProbeHandle</a> Probe = <a class="code" href="group___probe.html#gad4eaa885f9b11b8e02a734ef5a44a7a3" title="Initializes a probe specified by ProbeFile. ">initProbe</a>(Dev, <span class="stringliteral">&quot;Probe&quot;</span>); </div>
<div class="line"><a class="code" href="group___scan_pattern.html#ga5895a3257f7a22480e2aa27f261a6e26" title="Handle for controlling the scan pattern. ">ScanPatternHandle</a> Pattern = <a class="code" href="group___scan_pattern.html#gae86f2681e88660858d54a14b370a05c3" title="Creates a simple B-scan pattern that moves the galvo over a specified range. ">createBScanPattern</a>(Probe, 2.0, 512); <span class="comment">// get B-scans with 2.0mm scanning angle and 512 A-scans per B-scan </span></div>
<div class="line"><span class="comment">// acquire data, ...</span></div>
<div class="line"><a class="code" href="group___scan_pattern.html#gada7480a79247fd33b710ce39e2d8b291" title="Clears the specified scan pattern (ScanPatternHandle). ">clearScanPattern</a>(Pattern);</div>
<div class="line"><a class="code" href="group___probe.html#gaa691ff00c709ffe56396e7255d552fd3" title="Closes the probe and frees all memory associated with it. ">closeProbe</a>(Probe);</div>
<div class="line"><span class="comment">// ...</span></div>
</div><!-- fragment --><h2><a class="anchor" id="Asynchronous"></a>
Acquisition</h2>
<p>The most convenient and fast way to acquire data is to acquire data asynchronously. For this one starts a measurement using <a class="el" href="group___acquisition.html#ga1b86270fc67eb8341b9f61f4281d105e" title="starts a continuous measurement BScans. ">startMeasurement()</a> and retrieves the latest available <a class="el" href="group___acquisition.html#gaab76ba00c4c10102accc16e9341c1fd3" title="Acquires data and stores the data unprocessed. ">getRawData()</a>. The memory needed to store the data needs to be allocated first: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> i;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="group___data.html#ga485ecd235dcc8605e6803a8fa5bc4426" title="Handle to an object holding the unprocessed raw data. ">RawDataHandle</a> Raw = <a class="code" href="group___data_creation.html#gaf93c9e5ad25f5b190fe09cd1c42a7a2b" title="Creates a raw data object (RawDataHandle). ">createRawData</a>();</div>
<div class="line"><a class="code" href="group___data.html#ga3ef0b4c696c32ef4d1d49fca7b1072da" title="Handle to an object holding 1-, 2- or 3-dimensional floating point data. ">DataHandle</a> BScan = createRealData();</div>
<div class="line"><a class="code" href="group___acquisition.html#ga1b86270fc67eb8341b9f61f4281d105e" title="starts a continuous measurement BScans. ">startMeasurement</a>(Dev, Pattern, Acquisition_ASyncContinuous);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">for</span>(i=0; i&lt;1000; ++i) <span class="comment">// get 1000 B-scans</span></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___acquisition.html#gaab76ba00c4c10102accc16e9341c1fd3" title="Acquires data and stores the data unprocessed. ">getRawData</a>(Raw);</div>
<div class="line">    <a class="code" href="group___processing.html#ga212145c64c0dd8530420fadf915c832a" title="Sets the pointer the resulting B-Scan of the next processing is written to. ">setProcessedDataOutput</a>(Proc, BScan);</div>
<div class="line">    <a class="code" href="group___processing.html#ga4a2db07399c15b2398f61e43865b623c" title="Execute the processing. ">executeProcessing</a>(Proc, Raw);</div>
<div class="line">    <span class="comment">// data is now in BScan...</span></div>
<div class="line">    <span class="comment">// do something with the data...</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___acquisition.html#ga4b1a7ed17091fa0f3aeb56128f2b3d91" title="stops the current measurement. ">stopMeasurement</a>(Dev);</div>
<div class="line"><a class="code" href="group___data_creation.html#gac8905744fd2044d68199040257922c66" title="Clears the specified DataHandle, DataHandle, DataHandle or DataHandle objects. ">clearData</a>(BScan);</div>
<div class="line"><a class="code" href="group___data_creation.html#ga8cd3e48f24aa269241546e54e60edbad" title="Clears a raw data object (RawDataHandle) ">clearRawData</a>(Raw);</div>
</div><!-- fragment --><h1><a class="anchor" id="ErrorHandling"></a>
Error Handling</h1>
<p>Error handling is done by calling the function <a class="el" href="group___error_handling.html#ga28aca6cfd797f712516c1b6ac608a9f1" title="Returns an error code and a message if an error occurred. The error flag will be cleared. ">getError()</a>. The function will return an <a class="el" href="group___error_handling.html#ga59e56af19e754a6aa26a612ebf91d05f" title="This enum is used to describe errors that occur when operating an OCT device. ">ErrorCode</a> and if the result is not NO_ERROR an error string will be provided giving details about the problem. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#define ERROR_STRLEN 1024;</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">//...</span></div>
<div class="line"><span class="keywordtype">char</span> error[ERROR_STRLEN];</div>
<div class="line"><a class="code" href="group___hardware.html#ga4e904e17ea3a34cbedf75c1f4baa3b61" title="The OCTDeviceHandle type is used as Handle for using the SpectralRadar. ">OCTDeviceHandle</a> Dev = <a class="code" href="group___hardware.html#gaaf321357880c083c89a8879a2d9c26a2" title="Initializes the installed device. ">initDevice</a>();</div>
<div class="line"><span class="keywordflow">if</span>(!<a class="code" href="group___error_handling.html#ga28aca6cfd797f712516c1b6ac608a9f1" title="Returns an error code and a message if an error occurred. The error flag will be cleared. ">getError</a>(error, ERROR_STRLEN)) <span class="comment">// check whether the previous calls to SDK functions caused an error</span></div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;An error occurred: %s&quot;</span>, error);</div>
<div class="line">}</div>
<div class="line"><span class="comment">// ...</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 26 2017 14:01:41 for SpectralRadar SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
